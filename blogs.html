<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>udspj</title>

  <style type="text/css">
  #topdiv {text-align : center;}
  #topimg {width:50%; height:50%;}
  #app {width:800px; font-weight:bold; font-size: 200%; margin-left: auto; margin-right: auto; }
  </style>

</head>
<body>
  <div id="topdiv">
    <img id="topimg" src="manga/blogtop.png"/>
  </div>
  <div id="app"></div>

  <script type="text/javascript">

  var xmlhttp;

var gettrees = function(){
  if (xmlhttp.readyState==4)
  {// 4 = "loaded"
  if (xmlhttp.status==200)
    {
    var json = eval("(" + xmlhttp.responseText + ")");

    for(j = 0;j <json.length; j++)
{
      alert(json[j].git_url)
  if(json[j].path == "blogs")
  {
    loadXMLDoc(json[j].git_url,getcontents)
    break
  }
}
    }
  else
    {
    alert("Problem retrieving XML data");
    }
  }
}

var getcontents = function(){
  if (xmlhttp.readyState==4)
  {// 4 = "loaded"
  if (xmlhttp.status==200)
    {
      alert(xmlhttp.responseText)
    var json = eval("(" + xmlhttp.responseText + ")");
    alert(json.tree[0].path)

    for(j = 0;j <json.tree.length; j++)
{
  var para = document.createElement("a");
  var txt1 = document.createTextNode(json.tree[j].path);
  para.setAttribute("href","http://udspj.github.io/blogs/"+json.tree[j].path+"/"+json.tree[j].path+".html");
  para.style.margin="10px";
  para.style.display="block";
  para.style.textDecoration="none";
  para.style.color="#666";
  para.appendChild(txt1);
  var testdiv = document.getElementById("app");
  testdiv.appendChild(para);
  testdiv.appendChild(document.createElement("br"));
}
    }
  else
    {
    alert("Problem retrieving XML data");
    }
  }
}

loadXMLDoc("https://api.github.com/repos/udspj/udspj.github.io/contents/",gettrees)

function loadXMLDoc(url,statechange)
{

xmlhttp=null;
if (window.XMLHttpRequest)
  {// code for all new browsers
  xmlhttp=new XMLHttpRequest();
  }
else if (window.ActiveXObject)
  {// code for IE5 and IE6
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
if (xmlhttp!=null)
  {
  xmlhttp.onreadystatechange=statechange;
  xmlhttp.open("GET",url,true);
  xmlhttp.send(null);
  }
else
  {
  alert("Your browser does not support XMLHTTP.");
  }
}

  </script>
</body>
</html>